/*! PhotoSwipe - v4.1.1 - 2015-12-24
* http://photoswipe.com
* Copyright (c) 2015 Dmitry Semenov; */
/*! PhotoSwipe Default UI - 4.1.1 - 2015-12-24
* http://photoswipe.com
* Copyright (c) 2015 Dmitry Semenov; */
/**
*
* UI on top of main sliding area (caption, arrows, close button, etc.).
* Built just using public methods/properties of PhotoSwipe.
* 
*/
/*	JIGphotoSwipe(); jQuery wrapper made exclusively for JIG v3.4 by Firsh
		Additional changes to original PhotoSwipe:
			photoswipe-ui-default.js
				_updateShareURLs
				ui.update
			photoswipe.js - affected functions:
				History
					_parseItemIndexFromURL
					_updateHash
					publicMethods:
						initHistory
						onHashChange
*/
/*
 PhotoSwipe - v4.1.1 - 2015-12-24
 http://photoswipe.com
 Copyright (c) 2015 Dmitry Semenov;  PhotoSwipe Default UI - 4.1.1 - 2015-12-24
 http://photoswipe.com
 Copyright (c) 2015 Dmitry Semenov; */
(function(d,g){"function"===typeof define&&define.amd?define(g):"undefined"!==typeof module&&"object"===typeof exports?module.exports=g():d.PhotoSwipe=g()})(this,function(){return function(d,g,p,ra){var f={features:null,bind:function(a,b,c,k){k=(k?"remove":"add")+"EventListener";b=b.split(" ");for(var e=0;e<b.length;e++)if(b[e])a[k](b[e],c,!1)},isArray:function(a){return a instanceof Array},createEl:function(a,b){var c=document.createElement(b||"div");a&&(c.className=a);return c},getScrollY:function(){var a=
window.pageYOffset;return void 0!==a?a:document.documentElement.scrollTop},unbind:function(a,b,c){f.bind(a,b,c,!0)},removeClass:function(a,b){a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)")," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(a,b){f.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},hasClass:function(a,b){return a.className&&(new RegExp("(^|\\s)"+b+"(\\s|$)")).test(a.className)},getChildByClass:function(a,b){for(var c=a.firstChild;c;){if(f.hasClass(c,
b))return c;c=c.nextSibling}},arraySearch:function(a,b,c){for(var k=a.length;k--;)if(a[k][c]===b)return k;return-1},extend:function(a,b,c){for(var k in b)!b.hasOwnProperty(k)||c&&a.hasOwnProperty(k)||(a[k]=b[k])},easing:{sine:{out:function(a){return Math.sin(Math.PI/2*a)},inOut:function(a){return-(Math.cos(Math.PI*a)-1)/2}},cubic:{out:function(a){return--a*a*a+1}}},detectFeatures:function(){if(f.features)return f.features;var a=f.createEl().style,b="",c={};c.oldIE=document.all&&!document.addEventListener;
c.touch="ontouchstart"in window;window.requestAnimationFrame&&(c.raf=window.requestAnimationFrame,c.caf=window.cancelAnimationFrame);c.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled;if(!c.pointerEvent){b=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var k=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);k&&0<k.length&&(k=parseInt(k[1],10),1<=k&&8>k&&(c.isOldIOSPhone=!0))}k=(k=b.match(/Android\s([0-9\.]*)/))?k[1]:0;k=parseFloat(k);1<=k&&(4.4>k&&(c.isOldAndroid=
!0),c.androidVersion=k);c.isMobileOpera=/opera mini|opera mobi/i.test(b)}for(var k=["transform","perspective","animationName"],e=["","webkit","Moz","ms","O"],d,l,g=0;4>g;g++){for(var b=e[g],h=0;3>h;h++)d=k[h],l=b+(b?d.charAt(0).toUpperCase()+d.slice(1):d),!c[d]&&l in a&&(c[d]=l);b&&!c.raf&&(b=b.toLowerCase(),c.raf=window[b+"RequestAnimationFrame"],c.raf&&(c.caf=window[b+"CancelAnimationFrame"]||window[b+"CancelRequestAnimationFrame"]))}if(!c.raf){var m=0;c.raf=function(a){var b=(new Date).getTime(),
c=Math.max(0,16-(b-m)),k=window.setTimeout(function(){a(b+c)},c);m=b+c;return k};c.caf=function(a){clearTimeout(a)}}c.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;return f.features=c}};f.detectFeatures();f.features.oldIE&&(f.bind=function(a,b,c,k){b=b.split(" ");for(var e=(k?"detach":"attach")+"Event",d,l=function(){c.handleEvent.call(c)},f=0;f<b.length;f++)if(d=b[f])if("object"===typeof c&&c.handleEvent){if(!k)c["oldIE"+d]=l;else if(!c["oldIE"+
d])return!1;a[e]("on"+d,c["oldIE"+d])}else a[e]("on"+d,c)});var e=this,h={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(a){return"A"===a.tagName},getDoubleTapZoom:function(a,b){return a?1:.7>b.initialZoomLevel?1:1.33},maxSpreadZoom:1.33,
modal:!0,scaleMode:"fit"};f.extend(h,ra);var A=function(){return{x:0,y:0}},x,ga,Ga,n,N,Q,G=A(),r=A(),m=A(),ha,sa,B,q={},u,R,Ha,W,Ia,ta,J=0,ia={},H=A(),y,Ja,I=0,ja,ka,la,Ka,U,ba,La=!0,V,ma=[],Ma,l,C,Rb,wb,ua,w,Va={},va=!1,Wa=function(a,b){f.extend(e,b.publicMethods);ma.push(a)},jb=function(a){var b=O();return a>b-1?a-b:0>a?b+a:a},Xa={},z=function(a,b){Xa[a]||(Xa[a]=[]);return Xa[a].push(b)},v=function(a){var b=Xa[a];if(b){var c=Array.prototype.slice.call(arguments);c.shift();for(var k=0;k<b.length;k++)b[k].apply(e,
c)}},X=function(){return(new Date).getTime()},ca=function(a){kb=a;e.bg.style.opacity=a*h.bgOpacity},Sb=function(a,b,c,k,d){if(!va||d&&d!==e.currItem)k/=d?d.fitRatio:e.currItem.fitRatio;a[U]=Ha+b+"px, "+c+"px"+W+" scale("+k+")"},D=function(a){da&&(a&&(u>e.currItem.fitRatio?va||(wa(e.currItem,!1,!0),va=!0):va&&(wa(e.currItem),va=!1)),Sb(da,m.x,m.y,u))},Ya=function(a){a.container&&Sb(a.container.style,a.initialPosition.x,a.initialPosition.y,a.initialZoomLevel,a)},Na=function(a,b){b[U]=Ha+a+"px, 0px"+
W},lb=function(a,b){if(!h.loop&&b){var c=n+(H.x*J-a)/H.x,k=Math.round(a-ea.x);if(0>c&&0<k||c>=O()-1&&0>k)a=ea.x+k*h.mainScrollEndFriction}ea.x=a;Na(a,N)},xb=function(a,b){var c=Za[a]-ia[a];return r[a]+G[a]+c-b/R*c},K=function(a,b){a.x=b.x;a.y=b.y;b.id&&(a.id=b.id)},Tb=function(a){a.x=Math.round(a.x);a.y=Math.round(a.y)},yb=null,zb=function(){yb&&(f.unbind(document,"mousemove",zb),f.addClass(d,"pswp--has_mouse"),h.mouseUsed=!0,v("mouseUsed"));yb=setTimeout(function(){yb=null},100)},Ab=function(a,b){var c=
$a(e.currItem,q,a);b&&(t=c);return c},Ub=function(a){a||(a=e.currItem);return a.initialZoomLevel},Vb=function(a){a||(a=e.currItem);return 0<a.w?h.maxSpreadZoom:1},Wb=function(a,b,c,k){if(k===e.currItem.initialZoomLevel)return c[a]=e.currItem.initialPosition[a],!0;c[a]=xb(a,k);return c[a]>b.min[a]?(c[a]=b.min[a],!0):c[a]<b.max[a]?(c[a]=b.max[a],!0):!1},oc=function(){U?(Ha="translate"+(w.perspective&&!V?"3d(":"("),W=w.perspective?", 0px)":")"):(U="left",f.addClass(d,"pswp--ie"),Na=function(a,b){b.left=
a+"px"},Ya=function(a){var b=1<a.fitRatio?1:a.fitRatio,c=a.container.style,k=b*a.h;c.width=b*a.w+"px";c.height=k+"px";c.left=a.initialPosition.x+"px";c.top=a.initialPosition.y+"px"},D=function(){if(da){var a=da,b=e.currItem,c=1<b.fitRatio?1:b.fitRatio,k=c*b.h;a.width=c*b.w+"px";a.height=k+"px";a.left=m.x+"px";a.top=m.y+"px"}})},pc=function(a){var b="";h.escKey&&27===a.keyCode?b="close":h.arrowKeys&&(37===a.keyCode?b="prev":39===a.keyCode&&(b="next"));!b||a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||
(a.preventDefault?a.preventDefault():a.returnValue=!1,e[b]())},qc=function(a){a&&(Oa||xa||L||ab)&&(a.preventDefault(),a.stopPropagation())},Xb=function(){e.setScrollOffset(0,f.getScrollY())},P={},Pa=0,bb=function(a){P[a]&&(P[a].raf&&l(P[a].raf),Pa--,delete P[a])},Bb=function(a){P[a]&&bb(a);P[a]||(Pa++,P[a]={})},cb=function(){for(var a in P)P.hasOwnProperty(a)&&bb(a)},db=function(a,b,c,k,e,d,l){var f=X(),g;Bb(a);var h=function(){P[a]&&(g=X()-f,g>=k?(bb(a),d(c),l&&l()):(d((c-b)*e(g/k)+b),P[a].raf=Ma(h)))};
h()},rc={shout:v,listen:z,viewportSize:q,options:h,isMainScrollAnimating:function(){return L},getZoomLevel:function(){return u},getCurrentIndex:function(){return n},isDragging:function(){return Y},isZooming:function(){return fa},setScrollOffset:function(a,b){ia.x=a;ua=ia.y=b;v("updateScrollOffset",ia)},applyZoomPan:function(a,b,c,k){m.x=b;m.y=c;u=a;D(k)},init:function(){if(!x&&!ga){var a;e.framework=f;e.template=d;e.bg=f.getChildByClass(d,"pswp__bg");C=d.className;x=!0;w=f.detectFeatures();Ma=w.raf;
l=w.caf;U=w.transform;wb=w.oldIE;e.scrollWrap=f.getChildByClass(d,"pswp__scroll-wrap");e.container=f.getChildByClass(e.scrollWrap,"pswp__container");N=e.container.style;e.itemHolders=y=[{el:e.container.children[0],wrap:0,index:-1},{el:e.container.children[1],wrap:0,index:-1},{el:e.container.children[2],wrap:0,index:-1}];y[0].el.style.display=y[2].el.style.display="none";oc();B={resize:e.updateSize,scroll:Xb,keydown:pc,click:qc};a=w.isOldIOSPhone||w.isOldAndroid||w.isMobileOpera;w.animationName&&w.transform&&
!a||(h.showAnimationDuration=h.hideAnimationDuration=0);for(a=0;a<ma.length;a++)e["init"+ma[a]]();g&&(e.ui=new g(e,f)).init();v("firstUpdate");n=n||h.index||0;if(isNaN(n)||0>n||n>=O())n=0;e.currItem=ya(n);if(w.isOldIOSPhone||w.isOldAndroid)La=!1;d.setAttribute("aria-hidden","false");h.modal&&(La?d.style.position="fixed":(d.style.position="absolute",d.style.top=f.getScrollY()+"px"));void 0===ua&&(v("initialLayout"),ua=Rb=f.getScrollY());a="pswp--open ";h.mainClass&&(a+=h.mainClass+" ");h.showHideOpacity&&
(a+="pswp--animate_opacity ");a+=V?"pswp--touch":"pswp--notouch";a+=w.animationName?" pswp--css_animation":"";a+=w.svg?" pswp--svg":"";f.addClass(d,a);e.updateSize();Q=-1;I=null;for(a=0;3>a;a++)Na((a+Q)*H.x,y[a].el.style);wb||f.bind(e.scrollWrap,sa,e);z("initialZoomInEnd",function(){e.setContent(y[0],n-1);e.setContent(y[2],n+1);y[0].el.style.display=y[2].el.style.display="block";h.focus&&d.focus();f.bind(document,"keydown",e);w.transform&&f.bind(e.scrollWrap,"click",e);h.mouseUsed||f.bind(document,
"mousemove",zb);f.bind(window,"resize scroll",e);v("bindEvents")});e.setContent(y[1],n);e.updateCurrItem();v("afterInit");La||(Ia=setInterval(function(){Pa||Y||fa||u!==e.currItem.initialZoomLevel||e.updateSize()},1E3));f.addClass(d,"pswp--visible")}},close:function(){x&&(x=!1,ga=!0,v("close"),f.unbind(window,"resize",e),f.unbind(window,"scroll",B.scroll),f.unbind(document,"keydown",e),f.unbind(document,"mousemove",zb),w.transform&&f.unbind(e.scrollWrap,"click",e),Y&&f.unbind(window,ha,e),v("unbindEvents"),
Yb(e.currItem,null,!0,e.destroy))},destroy:function(){v("destroy");za&&clearTimeout(za);d.setAttribute("aria-hidden","true");d.className=C;Ia&&clearInterval(Ia);f.unbind(e.scrollWrap,sa,e);f.unbind(window,"scroll",e);Cb();cb();Xa=null},panTo:function(a,b,c){c||(a>t.min.x?a=t.min.x:a<t.max.x&&(a=t.max.x),b>t.min.y?b=t.min.y:b<t.max.y&&(b=t.max.y));m.x=a;m.y=b;D()},handleEvent:function(a){a=a||window.event;if(B[a.type])B[a.type](a)},goTo:function(a){a=jb(a);var b=a-n;I=b;n=a;e.currItem=ya(n);J-=b;lb(H.x*
J);cb();L=!1;e.updateCurrItem()},next:function(){e.goTo(n+1)},prev:function(){e.goTo(n-1)},updateCurrZoomItem:function(a){a&&v("beforeChange",0);if(y[1].el.children.length){var b=y[1].el.children[0];da=f.hasClass(b,"pswp__zoom-wrap")?b.style:null}else da=null;t=e.currItem.bounds;R=u=e.currItem.initialZoomLevel;m.x=t.center.x;m.y=t.center.y;a&&v("afterChange")},invalidateCurrItems:function(){ta=!0;for(var a=0;3>a;a++)y[a].item&&(y[a].item.needsUpdate=!0)},updateCurrItem:function(a){if(0!==I){var b=
Math.abs(I);if(!(a&&2>b)){e.currItem=ya(n);va=!1;v("beforeChange",I);3<=b&&(Q+=I+(0<I?-3:3),b=3);for(var c=0;c<b;c++)0<I?(a=y.shift(),y[2]=a,Q++,Na((Q+2)*H.x,a.el.style),e.setContent(a,n-b+c+1+1)):(a=y.pop(),y.unshift(a),Q--,Na(Q*H.x,a.el.style),e.setContent(a,n+b-c-1-1));da&&1===Math.abs(I)&&(b=ya(Ja),b.initialZoomLevel!==u&&($a(b,q),wa(b),Ya(b)));I=0;e.updateCurrZoomItem();Ja=n;v("afterChange")}}},updateSize:function(a){if(!La&&h.modal){var b=f.getScrollY();ua!==b&&(d.style.top=b+"px",ua=b);if(!a&&
Va.x===window.innerWidth&&Va.y===window.innerHeight)return;Va.x=window.innerWidth;Va.y=window.innerHeight;d.style.height=Va.y+"px"}q.x=e.scrollWrap.clientWidth;q.y=e.scrollWrap.clientHeight;Xb();H.x=q.x+Math.round(q.x*h.spacing);H.y=q.y;lb(H.x*J);v("beforeResize");if(void 0!==Q){for(var c,k=0;3>k;k++)a=y[k],Na((k+Q)*H.x,a.el.style),c=n+k-1,h.loop&&2<O()&&(c=jb(c)),(b=ya(c))&&(ta||b.needsUpdate||!b.bounds)?(e.cleanSlide(b),e.setContent(a,c),1===k&&(e.currItem=b,e.updateCurrZoomItem(!0)),b.needsUpdate=
!1):-1===a.index&&0<=c&&e.setContent(a,c),b&&b.container&&($a(b,q),wa(b),Ya(b));ta=!1}R=u=e.currItem.initialZoomLevel;if(t=e.currItem.bounds)m.x=t.center.x,m.y=t.center.y,D(!0);v("resize")},zoomTo:function(a,b,c,k,e){b&&(R=u,Za.x=Math.abs(b.x)-m.x,Za.y=Math.abs(b.y)-m.y,K(r,m));b=Ab(a,!1);var d={};Wb("x",b,d,a);Wb("y",b,d,a);var l=u,g=m.x,h=m.y;Tb(d);b=function(b){1===b?(u=a,m.x=d.x,m.y=d.y):(u=(a-l)*b+l,m.x=(d.x-g)*b+g,m.y=(d.y-h)*b+h);e&&e(b);D(1===b)};c?db("customZoomTo",0,1,c,k||f.easing.sine.inOut,
b):b(1)}},Zb,mb,E={},Z={},F={},M={},Qa={},na=[],Aa={},eb,Ba=[],Db,Eb,Fb,ab,fb,nb=0,gb=A(),Gb=0,Y,Hb,xa,Oa,ob,Ca,S,fa,$b,t,ea=A(),da,L,Za=A(),Da=A(),oa,Ib,pb,kb,qb,ac=function(a,b){Db=Math.abs(a.x-b.x);Eb=Math.abs(a.y-b.y);return Math.sqrt(Db*Db+Eb*Eb)},Cb=function(){ob&&(l(ob),ob=null)},bc=function(){if(Y&&(ob=Ma(bc),S)){var a=S.length;if(0!==a)if(K(E,S[0]),F.x=E.x-M.x,F.y=E.y-M.y,fa&&1<a){M.x=E.x;M.y=E.y;if(a=!F.x&&!F.y)a=S[1],a=a.x===Z.x&&a.y===Z.y;if(!a){K(Z,S[1]);xa||(xa=!0,v("zoomGestureStarted"));
a=ac(E,Z);a=1/$b*a*R;a>e.currItem.initialZoomLevel+e.currItem.initialZoomLevel/15&&(qb=!0);var b=Ub(),c=Vb();a<b?h.pinchToClose&&!qb&&R<=e.currItem.initialZoomLevel?(b=1-(b-a)/(b/1.2),ca(b),v("onPinchClose",b),pb=!0):(a=(b-a)/b,1<a&&(a=1),a=b-b/3*a):a>c&&(a=(a-c)/(6*b),1<a&&(a=1),a=c+a*b);gb.x=.5*(E.x+Z.x);gb.y=.5*(E.y+Z.y);G.x+=gb.x-Da.x;G.y+=gb.y-Da.y;K(Da,gb);m.x=xb("x",a);m.y=xb("y",a);Fb=a>u;u=a;D()}}else if(oa&&(Ib&&(Ib=!1,10<=Math.abs(F.x)&&(F.x-=S[0].x-Qa.x),10<=Math.abs(F.y)&&(F.y-=S[0].y-
Qa.y)),M.x=E.x,M.y=E.y,0!==F.x||0!==F.y))if("v"===oa&&h.closeOnVerticalDrag&&"fit"===h.scaleMode&&u===e.currItem.initialZoomLevel)G.y+=F.y,m.y+=F.y,a=cc(),ab=!0,v("onVerticalDrag",a),ca(a),D();else{a=X();b=E.x;c=E.y;if(50<a-mb){var k=2<Ba.length?Ba.shift():{};k.x=b;k.y=c;Ba.push(k);mb=a}Oa=!0;t=e.currItem.bounds;dc("x",F)||(dc("y",F),Tb(m),D())}}},ec=function(a,b){return!a||a===document||a.getAttribute("class")&&-1<a.getAttribute("class").indexOf("pswp__scroll-wrap")?!1:b(a)?a:ec(a.parentNode,b)},
Jb={},fc=function(a,b){Jb.prevent=!ec(a.target,h.isClickableElement);v("preventDragEvent",a,b,Jb);return Jb.prevent},gc=function(a,b){b.x=a.pageX;b.y=a.pageY;b.id=a.identifier;return b},cc=function(){return 1-Math.abs((m.y-e.currItem.initialPosition.y)/(q.y/2))},hb={},sc={},pa=[],rb,Kb=function(a){for(;0<pa.length;)pa.pop();ba?(rb=0,na.forEach(function(a){0===rb?pa[0]=a:1===rb&&(pa[1]=a);rb++})):-1<a.type.indexOf("touch")?a.touches&&0<a.touches.length&&(pa[0]=gc(a.touches[0],hb),1<a.touches.length&&
(pa[1]=gc(a.touches[1],sc))):(hb.x=a.pageX,hb.y=a.pageY,hb.id="",pa[0]=hb);return pa},dc=function(a,b){var c,k=m[a]+b[a],d,l=0<b[a],f=ea.x+b.x,g=ea.x-Aa.x,C,n;c=k>t.min[a]||k<t.max[a]?h.panEndFriction:1;k=m[a]+b[a]*c;if(h.allowPanToNext||u===e.currItem.initialZoomLevel)if(da?"h"!==oa||"x"!==a||xa||(l?(k>t.min[a]&&(c=h.panEndFriction,d=t.min[a]-r[a]),(0>=d||0>g)&&1<O()?(n=f,0>g&&f>Aa.x&&(n=Aa.x)):t.min.x!==t.max.x&&(C=k)):(k<t.max[a]&&(c=h.panEndFriction,d=r[a]-t.max[a]),(0>=d||0<g)&&1<O()?(n=f,0<
g&&f<Aa.x&&(n=Aa.x)):t.min.x!==t.max.x&&(C=k))):n=f,"x"===a)return void 0!==n&&(lb(n,!0),Ca=n===Aa.x?!1:!0),t.min.x!==t.max.x&&(void 0!==C?m.x=C:Ca||(m.x+=b.x*c)),void 0!==n;L||Ca||u>e.currItem.fitRatio&&(m[a]+=b[a]*c)},tc=function(a){if(!("mousedown"===a.type&&0<a.button))if(Ra)a.preventDefault();else if(!fb||"mousedown"!==a.type){fc(a,!0)&&a.preventDefault();v("pointerDown");if(ba){var b=f.arraySearch(na,a.pointerId,"id");0>b&&(b=na.length);na[b]={x:a.pageX,y:a.pageY,id:a.pointerId}}a=Kb(a);b=a.length;
S=null;cb();Y&&1!==b||(Y=Ib=!0,f.bind(window,ha,e),Fb=qb=pb=ab=Ca=Oa=Hb=xa=!1,oa=null,v("firstTouchStart",a),K(r,m),G.x=G.y=0,K(M,a[0]),K(Qa,M),Aa.x=H.x*J,Ba=[{x:M.x,y:M.y}],mb=Zb=X(),Ab(u,!0),Cb(),bc());!fa&&1<b&&!L&&!Ca&&(R=u,xa=!1,fa=Hb=!0,G.y=G.x=0,K(r,m),K(E,a[0]),K(Z,a[1]),Da.x=.5*(E.x+Z.x),Da.y=.5*(E.y+Z.y),Za.x=Math.abs(Da.x)-m.x,Za.y=Math.abs(Da.y)-m.y,$b=ac(E,Z))}},uc=function(a){a.preventDefault();if(ba){var b=f.arraySearch(na,a.pointerId,"id");-1<b&&(b=na[b],b.x=a.pageX,b.y=a.pageY)}Y&&
(a=Kb(a),oa||Oa||fa?S=a:ea.x!==H.x*J?oa="h":(b=Math.abs(a[0].x-M.x)-Math.abs(a[0].y-M.y),10<=Math.abs(b)&&(oa=0<b?"h":"v",S=a)))},zc=function(a){if(w.isOldAndroid){if(fb&&"mouseup"===a.type)return;-1<a.type.indexOf("touch")&&(clearTimeout(fb),fb=setTimeout(function(){fb=0},600))}v("pointerUp");fc(a,!1)&&a.preventDefault();var b;if(ba){var c=f.arraySearch(na,a.pointerId,"id");-1<c&&(b=na.splice(c,1)[0],navigator.pointerEnabled?b.type=a.pointerType||"mouse":(b.type={4:"mouse",2:"touch",3:"pen"}[a.pointerType],
b.type||(b.type=a.pointerType||"mouse")))}var k=Kb(a),c=k.length;"mouseup"===a.type&&(c=0);if(2===c)return S=null,!0;1===c&&K(Qa,k[0]);0!==c||oa||L||(b||("mouseup"===a.type?b={x:a.pageX,y:a.pageY,type:"mouse"}:a.changedTouches&&a.changedTouches[0]&&(b={x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY,type:"touch"})),v("touchRelease",a,b));a=-1;0===c&&(Y=!1,f.unbind(window,ha,e),Cb(),fa?a=0:-1!==Gb&&(a=X()-Gb));Gb=1===c?X():-1;a=-1!==a&&150>a?"zoom":"swipe";fa&&2>c&&(fa=!1,1===c&&(a="zoomPointerUp"),
v("zoomGestureEnded"));S=null;if(Oa||xa||L||ab)if(cb(),eb||(eb=vc()),eb.calculateSwipeSpeed("x"),ab)if(cc()<h.verticalDragRange)e.close();else{var d=m.y,l=kb;db("verticalDrag",0,1,300,f.easing.cubic.out,function(a){m.y=(e.currItem.initialPosition.y-d)*a+d;ca((1-l)*a+l);D()});v("onVerticalDrag",1)}else{if((Ca||L)&&0===c){if(wc(a,eb))return;a="zoomPointerUp"}L||("swipe"!==a?xc():!Ca&&u>e.currItem.fitRatio&&yc(eb))}},vc=function(){var a,b,c={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},
slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(k){1<Ba.length?(a=X()-mb+50,b=Ba[Ba.length-2][k]):(a=X()-Zb,b=Qa[k]);c.lastFlickOffset[k]=M[k]-b;c.lastFlickDist[k]=Math.abs(c.lastFlickOffset[k]);c.lastFlickSpeed[k]=20<c.lastFlickDist[k]?c.lastFlickOffset[k]/a:0;.1>Math.abs(c.lastFlickSpeed[k])&&(c.lastFlickSpeed[k]=0);c.slowDownRatio[k]=.95;c.slowDownRatioReverse[k]=1-c.slowDownRatio[k];
c.speedDecelerationRatio[k]=1},calculateOverBoundsAnimOffset:function(a,b){c.backAnimStarted[a]||(m[a]>t.min[a]?c.backAnimDestination[a]=t.min[a]:m[a]<t.max[a]&&(c.backAnimDestination[a]=t.max[a]),void 0!==c.backAnimDestination[a]&&(c.slowDownRatio[a]=.7,c.slowDownRatioReverse[a]=1-c.slowDownRatio[a],.05>c.speedDecelerationRatioAbs[a]&&(c.lastFlickSpeed[a]=0,c.backAnimStarted[a]=!0,db("bounceZoomPan"+a,m[a],c.backAnimDestination[a],b||300,f.easing.sine.out,function(b){m[a]=b;D()}))))},calculateAnimOffset:function(a){c.backAnimStarted[a]||
(c.speedDecelerationRatio[a]*=c.slowDownRatio[a]+c.slowDownRatioReverse[a]-c.slowDownRatioReverse[a]*c.timeDiff/10,c.speedDecelerationRatioAbs[a]=Math.abs(c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]),c.distanceOffset[a]=c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]*c.timeDiff,m[a]+=c.distanceOffset[a])},panAnimLoop:function(){P.zoomPan&&(P.zoomPan.raf=Ma(c.panAnimLoop),c.now=X(),c.timeDiff=c.now-c.lastNow,c.lastNow=c.now,c.calculateAnimOffset("x"),c.calculateAnimOffset("y"),D(),c.calculateOverBoundsAnimOffset("x"),
c.calculateOverBoundsAnimOffset("y"),.05>c.speedDecelerationRatioAbs.x&&.05>c.speedDecelerationRatioAbs.y&&(m.x=Math.round(m.x),m.y=Math.round(m.y),D(),bb("zoomPan")))}};return c},yc=function(a){a.calculateSwipeSpeed("y");t=e.currItem.bounds;a.backAnimDestination={};a.backAnimStarted={};if(.05>=Math.abs(a.lastFlickSpeed.x)&&.05>=Math.abs(a.lastFlickSpeed.y))return a.speedDecelerationRatioAbs.x=a.speedDecelerationRatioAbs.y=0,a.calculateOverBoundsAnimOffset("x"),a.calculateOverBoundsAnimOffset("y"),
!0;Bb("zoomPan");a.lastNow=X();a.panAnimLoop()},wc=function(a,b){var c;L||(nb=n);var d;if("swipe"===a){var l=M.x-Qa.x,g=10>b.lastFlickDist.x;30<l&&(g||20<b.lastFlickOffset.x)?d=-1:-30>l&&(g||-20>b.lastFlickOffset.x)&&(d=1)}var C;d&&(n+=d,0>n?(n=h.loop?O()-1:0,C=!0):n>=O()&&(n=h.loop?0:O()-1,C=!0),!C||h.loop)&&(I+=d,J-=d,c=!0);d=H.x*J;l=Math.abs(d-ea.x);c||d>ea.x===0<b.lastFlickSpeed.x?(l=0<Math.abs(b.lastFlickSpeed.x)?l/Math.abs(b.lastFlickSpeed.x):333,l=Math.min(l,400),l=Math.max(l,250)):l=333;nb===
n&&(c=!1);L=!0;v("mainScrollAnimStart");db("mainScroll",ea.x,d,l,f.easing.cubic.out,lb,function(){cb();L=!1;nb=-1;(c||nb!==n)&&e.updateCurrItem();v("mainScrollAnimComplete")});c&&e.updateCurrItem(!0);return c},xc=function(){var a=u,b=Ub(),c=Vb();u<b?a=b:u>c&&(a=c);var d,l=kb;if(pb&&!Fb&&!qb&&u<b)return e.close(),!0;pb&&(d=function(a){ca((1-l)*a+l)});e.zoomTo(a,0,200,f.easing.cubic.out,d);return!0};Wa("Gestures",{publicMethods:{initGestures:function(){var a=function(a,c,d,e,l){ja=a+c;ka=a+d;la=a+e;
Ka=l?a+l:""};(ba=w.pointerEvent)&&w.touch&&(w.touch=!1);ba?navigator.pointerEnabled?a("pointer","down","move","up","cancel"):a("MSPointer","Down","Move","Up","Cancel"):w.touch?(a("touch","start","move","end","cancel"),V=!0):a("mouse","down","move","up");ha=ka+" "+la+" "+Ka;sa=ja;ba&&!V&&(V=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints);e.likelyTouchDevice=V;B[ja]=tc;B[ka]=uc;B[la]=zc;Ka&&(B[Ka]=B[la]);w.touch&&(sa+=" mousedown",ha+=" mousemove mouseup",B.mousedown=B[ja],B.mousemove=B[ka],
B.mouseup=B[la]);V||(h.allowPanToNext=!1)}}});var za,Yb=function(a,b,c,l){za&&clearTimeout(za);Lb=Ra=!0;var k;a.initialLayout?(k=a.initialLayout,a.initialLayout=null):k=h.getThumbBoundsFn&&h.getThumbBoundsFn(n);var g=c?h.hideAnimationDuration:h.showAnimationDuration,C=function(){bb("initialZoom");c?(e.template.removeAttribute("style"),e.bg.removeAttribute("style")):(ca(1),b&&(b.style.display="block"),f.addClass(d,"pswp--animated-in"),v("initialZoom"+(c?"OutEnd":"InEnd")));l&&l();Ra=!1};g&&k&&void 0!==
k.x?function(){var b=Ga,l=!e.currItem.src||e.currItem.loadError||h.showHideOpacity;a.miniImg&&(a.miniImg.style.webkitBackfaceVisibility="hidden");c||(u=k.w/a.w,m.x=k.x,m.y=k.y-Rb,e[l?"template":"bg"].style.opacity=.001,D());Bb("initialZoom");c&&!b&&f.removeClass(d,"pswp--animated-in");if(l)if(c)f[(b?"remove":"add")+"Class"](d,"pswp--animate_opacity");else setTimeout(function(){f.addClass(d,"pswp--animate_opacity")},30);za=setTimeout(function(){v("initialZoom"+(c?"Out":"In"));if(c){var e=k.w/a.w,h=
m.x,n=m.y,q=u,r=kb,p=function(a){1===a?(u=e,m.x=k.x,m.y=k.y-ua):(u=(e-q)*a+q,m.x=(k.x-h)*a+h,m.y=(k.y-ua-n)*a+n);D();l?d.style.opacity=1-a:ca(r-a*r)};b?db("initialZoom",0,1,g,f.easing.cubic.out,p,C):(p(1),za=setTimeout(C,g+20))}else u=a.initialZoomLevel,K(m,a.initialPosition),D(),ca(1),l?d.style.opacity=1:ca(1),za=setTimeout(C,g+20)},c?25:90)}():(v("initialZoom"+(c?"Out":"In")),u=a.initialZoomLevel,K(m,a.initialPosition),D(),d.style.opacity=c?0:1,ca(1),g?setTimeout(function(){C()},g):C())},Sa,Ta,
Ua,Ea=[],Lb,Ra,Ac={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Sa.length}},ya,O,hc=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},$a=function(a,b,c){if(a.src&&!a.loadError){var d=!c;d&&(a.vGap||(a.vGap={top:0,bottom:0}),v("parseVerticalMargin",a));Ta=b.x;Ua=b.y-a.vGap.top-a.vGap.bottom;if(d){b=Ta/a.w;var e=Ua/a.h;a.fitRatio=b<e?b:e;
b=h.scaleMode;"orig"===b?c=1:"fit"===b&&(c=a.fitRatio);1<c&&(c=1);a.initialZoomLevel=c;a.bounds||(a.bounds=hc())}if(!c)return;b=a.w*c;var e=a.h*c,l=a.bounds;l.center.x=Math.round((Ta-b)/2);l.center.y=Math.round((Ua-e)/2)+a.vGap.top;l.max.x=b>Ta?Math.round(Ta-b):l.center.x;l.max.y=e>Ua?Math.round(Ua-e)+a.vGap.top:l.center.y;l.min.x=b>Ta?0:l.center.x;l.min.y=e>Ua?a.vGap.top:l.center.y;d&&c===a.initialZoomLevel&&(a.initialPosition=a.bounds.center)}else a.w=a.h=0,a.initialZoomLevel=a.fitRatio=1,a.bounds=
hc(),a.initialPosition=a.bounds.center;return a.bounds},sb=function(a,b,c,d,l,f){!b.loadError&&d&&(b.imageAppended=!0,wa(b,d,b===e.currItem&&va),c.appendChild(d),f&&setTimeout(function(){b&&b.loaded&&b.placeholder&&(b.placeholder.style.display="none",b.placeholder=null)},500))},ic=function(a){a.loading=!0;a.loaded=!1;var b=a.img=f.createEl("pswp__img","img"),c=function(){a.loading=!1;a.loaded=!0;a.loadComplete?a.loadComplete(a):a.img=null;b=b.onload=b.onerror=null};b.onload=c;b.onerror=function(){a.loadError=
!0;c()};b.src=a.src;return b},jc=function(a,b){if(a.src&&a.loadError&&a.container)return b&&(a.container.innerHTML=""),a.container.innerHTML=h.errorMsg.replace("%url%",a.src),!0},wa=function(a,b,c){if(a.src){b||(b=a.container.lastChild);var d=c?a.w:Math.round(a.w*a.fitRatio);c=c?a.h:Math.round(a.h*a.fitRatio);a.placeholder&&!a.loaded&&(a.placeholder.style.width=d+"px",a.placeholder.style.height=c+"px");b.style.width=d+"px";b.style.height=c+"px"}},kc=function(){if(Ea.length){for(var a,b=0;b<Ea.length;b++)a=
Ea[b],a.holder.index===a.index&&sb(a.index,a.item,a.baseDiv,a.img,!1,a.clearPlaceholder);Ea=[]}};Wa("Controller",{publicMethods:{lazyLoadItem:function(a){a=jb(a);var b=ya(a);b&&(!b.loaded&&!b.loading||ta)&&(v("gettingData",a,b),b.src&&ic(b))},initController:function(){f.extend(h,Ac,!0);e.items=Sa=p;ya=e.getItemAt;O=h.getNumItemsFn;3>O()&&(h.loop=!1);z("beforeChange",function(a){var b=h.preload;a=null===a?!0:0<=a;var c=Math.min(b[0],O()),b=Math.min(b[1],O()),d;for(d=1;d<=(a?b:c);d++)e.lazyLoadItem(n+
d);for(d=1;d<=(a?c:b);d++)e.lazyLoadItem(n-d)});z("initialLayout",function(){e.currItem.initialLayout=h.getThumbBoundsFn&&h.getThumbBoundsFn(n)});z("mainScrollAnimComplete",kc);z("initialZoomInEnd",kc);z("destroy",function(){for(var a,b=0;b<Sa.length;b++)a=Sa[b],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loadError&&(a.loaded=a.loadError=!1);Ea=null})},getItemAt:function(a){return 0<=a?void 0!==Sa[a]?Sa[a]:!1:!1},allowProgressiveImg:function(){return h.forceProgressiveLoading||
!V||h.mouseUsed||1200<screen.width},setContent:function(a,b){h.loop&&(b=jb(b));var c=e.getItemAt(a.index);c&&(c.container=null);var c=e.getItemAt(b),d;if(c){v("gettingData",b,c);a.index=b;a.item=c;var l=c.container=f.createEl("pswp__zoom-wrap");!c.src&&c.html&&(c.html.tagName?l.appendChild(c.html):l.innerHTML=c.html);jc(c);$a(c,q);if(!c.src||c.loadError||c.loaded)c.src&&!c.loadError&&(d=f.createEl("pswp__img","img"),d.style.opacity=1,d.src=c.src,wa(c,d),sb(b,c,l,d,!0));else{c.loadComplete=function(c){if(x){if(a&&
a.index===b){if(jc(c,!0)){c.loadComplete=c.img=null;$a(c,q);Ya(c);a.index===n&&e.updateCurrZoomItem();return}c.imageAppended?!Ra&&c.placeholder&&(c.placeholder.style.display="none",c.placeholder=null):w.transform&&(L||Ra)?Ea.push({item:c,baseDiv:l,img:c.img,index:b,holder:a,clearPlaceholder:!0}):sb(b,c,l,c.img,L||Ra,!0)}c.loadComplete=null;c.img=null;v("imageLoadComplete",b,c)}};if(f.features.transform){var g=f.createEl("pswp__img pswp__img--placeholder"+(c.msrc?"":" pswp__img--placeholder--blank"),
c.msrc?"img":"");c.msrc&&(g.src=c.msrc);wa(c,g);l.appendChild(g);c.placeholder=g}c.loading||ic(c);e.allowProgressiveImg()&&(!Lb&&w.transform?Ea.push({item:c,baseDiv:l,img:c.img,index:b,holder:a}):sb(b,c,l,c.img,!0,!0))}Lb||b!==n?Ya(c):(da=l.style,Yb(c,d||c.img));a.el.innerHTML="";a.el.appendChild(l)}else a.el.innerHTML=""},cleanSlide:function(a){a.img&&(a.img.onload=a.img.onerror=null);a.loaded=a.loading=a.img=a.imageAppended=!1}}});var qa,tb={},Mb=function(a,b,c){var d=document.createEvent("CustomEvent");
d.initCustomEvent("pswpTap",!0,!0,{origEvent:a,target:a.target,releasePoint:b,pointerType:c||"touch"});a.target.dispatchEvent(d)};Wa("Tap",{publicMethods:{initTap:function(){z("firstTouchStart",e.onTapStart);z("touchRelease",e.onTapRelease);z("destroy",function(){tb={};qa=null})},onTapStart:function(a){1<a.length&&(clearTimeout(qa),qa=null)},onTapRelease:function(a,b){if(b&&!Oa&&!Hb&&!Pa){if(qa&&(clearTimeout(qa),qa=null,25>Math.abs(b.x-tb.x)&&25>Math.abs(b.y-tb.y))){v("doubleTap",b);return}"mouse"===
b.type?Mb(a,b,"mouse"):"BUTTON"===a.target.tagName.toUpperCase()||f.hasClass(a.target,"pswp__single-tap")?Mb(a,b):(K(tb,b),qa=setTimeout(function(){Mb(a,b);qa=null},300))}}}});var T;Wa("DesktopZoom",{publicMethods:{initDesktopZoom:function(){wb||(V?z("mouseUsed",function(){e.setupDesktopZoom()}):e.setupDesktopZoom(!0))},setupDesktopZoom:function(a){T={};z("bindEvents",function(){f.bind(d,"wheel mousewheel DOMMouseScroll",e.handleMouseWheel)});z("unbindEvents",function(){T&&f.unbind(d,"wheel mousewheel DOMMouseScroll",
e.handleMouseWheel)});e.mouseZoomedIn=!1;var b,c=function(){e.mouseZoomedIn&&(f.removeClass(d,"pswp--zoomed-in"),e.mouseZoomedIn=!1);1>u?f.addClass(d,"pswp--zoom-allowed"):f.removeClass(d,"pswp--zoom-allowed");l()},l=function(){b&&(f.removeClass(d,"pswp--dragging"),b=!1)};z("resize",c);z("afterChange",c);z("pointerDown",function(){e.mouseZoomedIn&&(b=!0,f.addClass(d,"pswp--dragging"))});z("pointerUp",l);a||c()},handleMouseWheel:function(a){if(u<=e.currItem.fitRatio)return h.modal&&(!h.closeOnScroll||
Pa||Y?a.preventDefault():U&&2<Math.abs(a.deltaY)&&(Ga=!0,e.close())),!0;a.stopPropagation();T.x=0;if("deltaX"in a)1===a.deltaMode?(T.x=18*a.deltaX,T.y=18*a.deltaY):(T.x=a.deltaX,T.y=a.deltaY);else if("wheelDelta"in a)a.wheelDeltaX&&(T.x=-.16*a.wheelDeltaX),T.y=a.wheelDeltaY?-.16*a.wheelDeltaY:-.16*a.wheelDelta;else if("detail"in a)T.y=a.detail;else return;Ab(u,!0);var b=m.x-T.x,c=m.y-T.y;(h.modal||b<=t.min.x&&b>=t.max.x&&c<=t.min.y&&c>=t.max.y)&&a.preventDefault();e.panTo(b,c)},toggleDesktopZoom:function(a){a=
a||{x:q.x/2+ia.x,y:q.y/2+ia.y};var b=h.getDoubleTapZoom(!0,e.currItem),c=u===b;e.mouseZoomedIn=!c;e.zoomTo(c?e.currItem.initialZoomLevel:b,a,333);f[(c?"remove":"add")+"Class"](d,"pswp--zoomed-in")}}});var Bc={history:!0,galleryUID:1},ib,lc,Fa,ub,Nb,mc,vb,Ob,Pb,aa,nc=function(){var a="",b;b=aa.hash.substring(1);var c={};b=b.replace("%5B","[");b=b.replace("%5D","]");b=b.replace(/([^|])(poster=|videoplayer)/mg,"$1|$2");b=b.match(/^!([\w\-[\]]+?\/(?:(\d+)(?=\/))?(https?:\/\/[^&]*)?([A-Z]{2}\/[_\w]*)?)/im);
null!==b?(a=b[1],a=a.substring(a.indexOf("/")+1,a.length),/^([A-Z]{2}\/[_\w]*)$/im.test(a)&&(a=a.replace("/","-")),jQuery.each(p,function(b,d){if("undefined"!==typeof d.contentID&&d.contentID=="jig-contentID-"+a||d.src==a)return c.pid=b,!1}),c.pid=parseInt(c.pid,10)):c.pid=0;return c},Qb=function(){Fa&&clearTimeout(Fa);if(Pa||Y)Fa=setTimeout(Qb,500);else{ub?clearTimeout(lc):ub=!0;var a="!"+h.galleryUID+"/";if("undefined"!==typeof p[n].contentID){var b=/(?:jig-contentID)-(\w{2})-([^\s]*)/im.exec(p[n].contentID);
null!==b&&(a+=b[1]+"/"+b[2])}else a+=p[n].src;vb?(a=aa.href.split("#")[0]+"#"+a,aa.replace(a)):(-1===aa.hash.indexOf(a)&&(Pb=!0),aa.hash=a);vb=!0;lc=setTimeout(function(){ub=!1},60)}};Wa("History",{publicMethods:{initHistory:function(){f.extend(h,Bc,!0);if(h.history){aa=window.location;vb=Ob=Pb=!1;z("afterChange",e.updateURL);z("unbindEvents",function(){f.unbind(window,"hashchange",e.onHashChange)});var a=function(){mc=!0;Ob||(Pb?history.back():"pushState"in history?history.pushState("",document.title,
aa.pathname+aa.search):aa.hash="");ib&&clearTimeout(ib);Fa&&clearTimeout(Fa)};z("unbindEvents",function(){Ga&&a()});z("destroy",function(){mc||a()});z("firstUpdate",function(){n=nc().pid});setTimeout(function(){x&&f.bind(window,"hashchange",e.onHashChange)},40)}},onHashChange:function(){""===aa.hash.substring(1)?(Ob=!0,e.close()):ub||(Nb=!0,e.goTo(nc().pid),Nb=!1)},updateURL:function(){ib&&clearTimeout(ib);Fa&&clearTimeout(Fa);Nb||(vb?ib=setTimeout(Qb,800):Qb())}}});f.extend(e,rc)}});
(function(d,g){"function"===typeof define&&define.amd?define(g):"undefined"!==typeof module&&"object"===typeof exports?module.exports=g():d.PhotoSwipeUI_Default=g()})(this,function(){return function(d,g){var p=this,ra=!1,f=!0,e,h,A,x,ga,Ga,n,N=!0,Q,G,r,m,ha,sa,B,q,u={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4E3,timeToIdleOutside:1E3,loadingIndicatorDelay:1E3,addCaptionHTMLFn:function(d,e){if(!d.title)return e.children[0].innerHTML="",
!1;e.children[0].innerHTML=d.title;return!0},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},
{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return d.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return d.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},R,Ha=function(d){if(R)return!0;d=d||window.event;q.timeToIdle&&q.mouseUsed&&!G&&ka();for(var e,l=(d.target||d.srcElement).getAttribute("class")||"",f,h=0;h<ma.length;h++)e=ma[h],e.onTap&&-1<l.indexOf("pswp__"+
e.name)&&(e.onTap(),f=!0);f&&(d.stopPropagation&&d.stopPropagation(),R=!0,setTimeout(function(){R=!1},g.features.isOldAndroid?600:30))},W=function(d,e,f){g[(f?"add":"remove")+"Class"](d,"pswp__"+e)},Ia=function(){var d=1===q.getNumItemsFn();d!==B&&(W(h,"ui--one-slide",d),B=d)},ta=function(){W(n,"share-modal--hidden",N)},J=function(){(N=!N)?(g.removeClass(n,"pswp__share-modal--fade-in"),setTimeout(function(){N&&ta()},300)):(ta(),setTimeout(function(){N||g.addClass(n,"pswp__share-modal--fade-in")},
30));N||H();return!1},ia=function(e){e=e||window.event;var l=e.target||e.srcElement;d.shout("shareLinkClick",e,l);if(!l.href)return!1;if(l.hasAttribute("download"))return!0;window.open(l.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100));N||J();return!1},H=function(){var e="",f=d.options.shareButtons,g,h,m;if(location.hash){h=decodeURI(document.location.href);var q=h.split("#!");h=q[0]+"#!"+
q[1]}else h=location.href;if("undefined"!==typeof d.options.socialButtons){var r=d.options.socialButtons,f=[],r=r.toLowerCase(),r=r.split(""),q=jQuery.inArray("f",r),p=jQuery.inArray("t",r),x=jQuery.inArray("p",r),r=jQuery.inArray("g",r);~q&&(f[q]=d.options.shareButtons[0]);~p&&(f[p]=d.options.shareButtons[1]);~x&&(f[x]=d.options.shareButtons[2]);~r&&(f[r]=d.options.shareButtons[3]);"undefined"!==typeof d.options.shareButtons[4]&&f.push(d.options.shareButtons[4])}jQuery.each(f,function(l,f){"undefined"!==
typeof f&&(m=(d.currItem.title||"")+(d.currItem.description?(d.currItem.title?" ":"")+d.currItem.description:"")||document.title,g=f.url.replace("{{url}}",encodeURIComponent(h)).replace("{{facebook_url}}",encodeURIComponent(h.replace("#!",(-1===h.indexOf("?")?"?":"&")+"_escaped_fragment_="))).replace("{{image_url}}",encodeURIComponent(d.currItem.src||"")).replace("{{raw_image_url}}",d.currItem.src||"").replace("{{title}}",encodeURIComponent(d.currItem.title||document.title)).replace("{{description}}",
encodeURIComponent(jQuery("<p>"+m.replace(/<a(?:.+?)href=['"](.+?)['"](?:.+?>)(.+?)(?:<\/a>)/mg,"$2: $1")+"</p>").text())),e+='<a href="'+g+'" target="_blank" class="pswp__share--'+f.id+'"'+(f.download?"download":"")+">"+f.label+"</a>")});n.children[0].innerHTML=e;n.children[0].onclick=ia},y=function(d){for(var e=0;e<q.closeElClasses.length;e++)if(g.hasClass(d,"pswp__"+q.closeElClasses[e]))return!0},Ja,I,ja=0,ka=function(){clearTimeout(I);ja=0;G&&p.setIdle(!1)},la=function(d){d=d?d:window.event;d=
d.relatedTarget||d.toElement;d&&"HTML"!==d.nodeName||(clearTimeout(I),I=setTimeout(function(){p.setIdle(!0)},q.timeToIdleOutside))},Ka=function(){q.preloaderEl&&(U(!0),r("beforeChange",function(){clearTimeout(sa);sa=setTimeout(function(){d.currItem&&d.currItem.loading?(!d.allowProgressiveImg()||d.currItem.img&&!d.currItem.img.naturalWidth)&&U(!1):U(!0)},q.loadingIndicatorDelay)}),r("imageLoadComplete",function(e,f){d.currItem===f&&U(!0)}))},U=function(d){ha!==d&&(W(m,"preloader--active",!d),ha=d)},
ba=function(e){var l=e.vGap;if(!d.likelyTouchDevice||q.mouseUsed||screen.width>q.fitControlsWidth){var f=q.barsSize;q.captionEl&&"auto"===f.bottom?(x||(x=g.createEl("pswp__caption pswp__caption--fake"),x.appendChild(g.createEl("pswp__caption__center")),h.insertBefore(x,A),g.addClass(h,"pswp__ui--fit")),q.addCaptionHTMLFn(e,x,!0)?l.bottom=parseInt(x.clientHeight,10)||44:l.bottom=f.top):l.bottom="auto"===f.bottom?0:f.bottom;l.top=f.top}else l.top=l.bottom=0},La=function(){q.timeToIdle&&r("mouseUsed",
function(){g.bind(document,"mousemove",ka);g.bind(document,"mouseout",la);Ja=setInterval(function(){ja++;2===ja&&p.setIdle(!0)},q.timeToIdle/2)})},V=function(){r("onVerticalDrag",function(d){f&&.95>d?p.hideControls():!f&&.95<=d&&p.showControls()});var d;r("onPinchClose",function(e){f&&.9>e?(p.hideControls(),d=!0):d&&!f&&.9<e&&p.showControls()});r("zoomGestureEnded",function(){d=!1})},ma=[{name:"caption",option:"captionEl",onInit:function(d){A=d}},{name:"share-modal",option:"shareEl",onInit:function(d){n=
d},onTap:function(){J()}},{name:"button--share",option:"shareEl",onInit:function(d){Ga=d},onTap:function(){J()}},{name:"button--zoom",option:"zoomEl",onTap:d.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(d){ga=d}},{name:"button--close",option:"closeEl",onTap:d.close},{name:"button--arrow--left",option:"arrowEl",onTap:d.prev},{name:"button--arrow--right",option:"arrowEl",onTap:d.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){e.isFullscreen()?e.exit():e.enter()}},
{name:"preloader",option:"preloaderEl",onInit:function(d){m=d}}],Ma=function(){var d,e,f,n=function(l){if(l)for(var h=l.length,n=0;n<h;n++){d=l[n];e=d.className;for(var m=0;m<ma.length;m++)if(f=ma[m],-1<e.indexOf("pswp__"+f.name))if(q[f.option]){if(g.removeClass(d,"pswp__element--disabled"),f.onInit)f.onInit(d)}else g.addClass(d,"pswp__element--disabled")}};n(h.children);var m=g.getChildByClass(h,"pswp__top-bar");m&&n(m.children)};p.init=function(){g.extend(d.options,u,!0);q=d.options;h=g.getChildByClass(d.scrollWrap,
"pswp__ui");r=d.listen;V();r("beforeChange",p.update);r("doubleTap",function(e){var f=d.currItem.initialZoomLevel;d.getZoomLevel()!==f?d.zoomTo(f,e,333):d.zoomTo(q.getDoubleTapZoom(!1,d.currItem),e,333)});r("preventDragEvent",function(d,e,f){(e=d.target||d.srcElement)&&e.getAttribute("class")&&-1<d.type.indexOf("mouse")&&(0<e.getAttribute("class").indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(e.tagName))&&(f.prevent=!1)});r("bindEvents",function(){g.bind(h,"pswpTap click",Ha);g.bind(d.scrollWrap,
"pswpTap",p.onGlobalTap);d.likelyTouchDevice||g.bind(d.scrollWrap,"mouseover",p.onMouseOver)});r("unbindEvents",function(){N||J();Ja&&clearInterval(Ja);g.unbind(document,"mouseout",la);g.unbind(document,"mousemove",ka);g.unbind(h,"pswpTap click",Ha);g.unbind(d.scrollWrap,"pswpTap",p.onGlobalTap);g.unbind(d.scrollWrap,"mouseover",p.onMouseOver);e&&(g.unbind(document,e.eventK,p.updateFullscreen),e.isFullscreen()&&(q.hideAnimationDuration=0,e.exit()),e=null)});r("destroy",function(){q.captionEl&&(x&&
h.removeChild(x),g.removeClass(A,"pswp__caption--empty"));n&&(n.children[0].onclick=null);g.removeClass(h,"pswp__ui--over-close");g.addClass(h,"pswp__ui--hidden");p.setIdle(!1)});q.showAnimationDuration||g.removeClass(h,"pswp__ui--hidden");r("initialZoomIn",function(){q.showAnimationDuration&&g.removeClass(h,"pswp__ui--hidden")});r("initialZoomOut",function(){g.addClass(h,"pswp__ui--hidden")});r("parseVerticalMargin",ba);Ma();q.shareEl&&Ga&&n&&(N=!0);Ia();La();q.fullscreenEl&&!g.features.isOldAndroid&&
(e||(e=p.getFullscreenAPI()),e?(g.bind(document,e.eventK,p.updateFullscreen),p.updateFullscreen(),g.addClass(d.template,"pswp--supports-fs")):g.removeClass(d.template,"pswp--supports-fs"));Ka()};p.setIdle=function(d){G=d;W(h,"ui--idle",d)};p.update=function(){f&&d.currItem?(p.updateIndexIndicator(),q.captionEl&&(q.addCaptionHTMLFn(d.currItem,A),W(A,"caption--empty",!d.currItem.title&&!d.currItem.description)),ra=!0):ra=!1;N||J();Ia()};p.updateFullscreen=function(f){f&&setTimeout(function(){d.setScrollOffset(0,
g.getScrollY())},50);g[(e.isFullscreen()?"add":"remove")+"Class"](d.template,"pswp--fs")};p.updateIndexIndicator=function(){q.counterEl&&(ga.innerHTML=d.getCurrentIndex()+1+q.indexIndicatorSep+q.getNumItemsFn())};p.onGlobalTap=function(e){e=e||window.event;var l=e.target||e.srcElement;R||(e.detail&&"mouse"===e.detail.pointerType?y(l)?d.close():g.hasClass(l,"pswp__img")&&(1===d.getZoomLevel()&&d.getZoomLevel()<=d.currItem.fitRatio?q.clickToCloseNonZoomable&&d.close():d.toggleDesktopZoom(e.detail.releasePoint)):
(q.tapToToggleControls&&(f?p.hideControls():p.showControls()),q.tapToClose&&(g.hasClass(l,"pswp__img")||y(l))&&d.close()))};p.onMouseOver=function(d){d=d||window.event;W(h,"ui--over-close",y(d.target||d.srcElement))};p.hideControls=function(){g.addClass(h,"pswp__ui--hidden");f=!1};p.showControls=function(){f=!0;ra||p.update();g.removeClass(h,"pswp__ui--hidden")};p.supportsFullscreen=function(){var d=document;return!!(d.exitFullscreen||d.mozCancelFullScreen||d.webkitExitFullscreen||d.msExitFullscreen)};
p.getFullscreenAPI=function(){var e=document.documentElement,f;e.requestFullscreen?f={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:"fullscreenchange"}:e.mozRequestFullScreen?f={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"mozfullscreenchange"}:e.webkitRequestFullscreen?f={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkitfullscreenchange"}:e.msRequestFullscreen&&
(f={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"});f&&(f.enter=function(){Q=q.closeOnScroll;q.closeOnScroll=!1;if("webkitRequestFullscreen"===this.enterK)d.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT);else return d.template[this.enterK]()},f.exit=function(){q.closeOnScroll=Q;return document[this.exitK]()},f.isFullscreen=function(){return document[this.elementK]});return f}}});
(function(d){d.fn.JIGphotoSwipe=function(g){var p=this,ra=d(p[0]).closest(".justified-image-grid"),f=d.extend(!0,{},g),e=function(e){var f=[];p.filter('[rel~="'+e+'"]').each(function(e){e=d(this);var g=e.find("img"),h=e.find("img").attr("alt"),p=e.attr("title"),x=e.attr("data-wh").split("x"),r="jig-overflow"==e.parent().attr("class")?e.closest(".jig-imageContainer").attr("class"):e.attr("class"),r=/(?:jig-contentID)-(\w{2})-([^\s]*)/im.exec(r),g={src:e.attr("href"),w:parseInt(x[0],10),h:parseInt(x[1],
10),msrc:g.attr("src")};null!=r&&(g.contentID=r[0]);h&&(g.title=h);p&&(g.description=p);g.el=e[0];f.push(g)});return f},h=function(e){e.preventDefault();var f=d(e.target).closest(".jig-imageContainer").attr("class"),f=/(?:jig-contentID)-(\w{2})-([^\s]*)/im.exec(f),g=d(e.target).closest("a.jig-link");e=g.attr("rel").split(" ").shift();f=null!=f?f[0]:g.attr("href");A(f,e);return!1},A=function(h,p,A){var n=e(p),x,ga=!1;if(0==n.length)return!1;d.each(n,function(d,e){if("undefined"!==typeof e.contentID&&
e.contentID==h||e.src==h)return g.index=d,!1});g.galleryUID=p;g.getThumbBoundsFn=function(e){if("jig-overflow"==d(n[e].el).parent().attr("class")){var f=n[e].el.getElementsByTagName("img")[0];e=d(window).scrollTop();f=f.getBoundingClientRect();return{x:f.left,y:f.top+e,w:f.width}}return{x:d(window).width()/2,y:d(window).height()/2+d(window).scrollTop(),w:0}};g.addCaptionHTMLFn=function(d,e,f){f=[];"undefined"!==typeof d.title&&f.push(d.title);"undefined"!==typeof d.description&&f.push("<small>"+d.description+
"</small>");if(0==f.length)return e.children[0].innerText="",!1;e.children[0].innerHTML=f.join("<br/>");return!0};g.shareButtons=[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{facebook_url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{title}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{description}}"},{id:"googleplus",label:"Share on Google+",
url:"https://plus.google.com/share?url={{url}}"}];"undefined"!==typeof g.allowDownload&&!0===g.allowDownload&&g.shareButtons.push({id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0});if(A){if(g.showAnimationDuration=0,"undefined"==typeof f.closeOnScroll||1==f.closeOnScroll)g.closeOnScroll=!1,x=!0}else g.showAnimationDuration="undefined"==typeof f.showAnimationDuration?333:f.showAnimationDuration;p=d(n[g.index].el);"jig-overflow"!=p.parent().attr("class")||"0px"===p.find("img").css("margin-left")&&
!p.parent().parent().hasClass("differentAspectRatio")||(ga=!0);ga||"undefined"!==typeof g.aspectRatioMismatch&&!0===g.aspectRatioMismatch?(g.showAnimationDuration=0,g.showHideOpacity=!0,g.mainClass="hidePsPlaceholder"):(g.showHideOpacity="undefined"==typeof f.showHideOpacity?!1:f.showHideOpacity,g.mainClass="undefined"==typeof f.mainClass?"":f.mainClass);d(".pswp").removeAttr("style");d(".pswp").removeClass(function(d,e){return(e.match(/pswp--\S+theme/g)||[]).join(" ")});"undefined"!==g.customTheme&&
d(".pswp").addClass("pswp--"+g.customTheme+"-theme");d.fn.JIGphotoSwipe.gallery=new PhotoSwipe(d(".pswp")[0],PhotoSwipeUI_Default,n,g);d.fn.JIGphotoSwipe.gallery.init();1==x&&setTimeout(function(){d.fn.JIGphotoSwipe.gallery.options.closeOnScroll=!0},2E3)};(function(){if(0===d(".pswp").length){var e="undefined"!==typeof g.captionAlign?" pswp__ca_"+g.captionAlign:" pswp__ca_center";d("body").append('<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden'+
e+'"><div class="pswp__top-bar"><div class="pswp__counter"></div><span class="pswp__button pswp__button--close" title="Close (Esc)"></span><span class="pswp__button pswp__button--share" title="Share"></span><span class="pswp__button pswp__button--fs" title="Toggle fullscreen"></span><span class="pswp__button pswp__button--zoom" title="Zoom in/out"></span><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><span class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></span><span class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></span><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div>')}ra.off("click.photoswipe").on("click.photoswipe",
"a.jig-link",h);var f="",p,e=location.hash,e=e.replace("%5B","["),e=e.replace("%5D","]"),e=e.replace(/([^|])(poster=|videoplayer)/mg,"$1|$2");p=e.match(/^#!([\w\-[\]]+?\/(?:(\d+)(?=\/))?(https?:\/\/[^&]*)?([A-Z]{2}\/[_\w]*)?)/im);null!==p&&(f=p[1],f=f.substring(f.indexOf("/")+1,f.length),/^([A-Z]{2}\/[_\w]*)$/im.test(f)&&(f=f.replace("/","-")));f="jig-contentID-"+f;(e=e.substring(2,e.indexOf("/")))&&f&&A(f,e,!0)})()}})(jQuery);